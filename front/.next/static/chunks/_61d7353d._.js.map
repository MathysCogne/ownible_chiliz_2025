{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/lib/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\n\nexport interface RwaToken {\n  tokenId: number;\n  balance: string;\n  rwaType: string;\n  percent: string;\n  metadataURI: string;\n  legalDocURI: string;\n  lockupEndDate: string;\n  complianceRequired: boolean;\n  // Soon, we will add the metadata itself\n  // metadata?: Record<string, any>; \n}\n\nexport interface UserTokensResponse {\n  address: string;\n  tokens: RwaToken[];\n}\n\n/**\n * Fetches RWA tokens for a given user address.\n * @param address The user's wallet address.\n * @returns A promise that resolves with the user's tokens.\n */\nexport async function getUserTokens(address: string): Promise<UserTokensResponse> {\n  if (!address) {\n    console.error(\"User address is required to fetch tokens.\");\n    return { address: '', tokens: [] };\n  }\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/user/${address}/tokens`);\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('Error fetching tokens:', errorData.error || response.statusText);\n      throw new Error(`API Error: ${errorData.error || response.statusText}`);\n    }\n\n    const data: UserTokensResponse = await response.json();\n    \n    // In the future, we might want to fetch metadata for each token here.\n    // For example, by looping over data.tokens and calling fetch(token.metadataURI)\n\n    return data;\n\n  } catch (error) {\n    console.error(\"Could not connect to the RWA API:\", error);\n    // Return an empty state in case of a network error or other issue\n    return { address: address, tokens: [] };\n  }\n}\n\nexport interface MintRwaTokenPayload {\n  to: string;\n  amount: number;\n  rwaType: string;\n  percent: number;\n  metadataURI: string;\n  legalDocURI: string;\n  lockupEndDate: number;\n  complianceRequired: boolean;\n}\n\nexport interface MintRwaTokenResponse {\n  success: boolean;\n  transactionHash: string;\n  blockNumber: number;\n  gasUsed: string;\n  tokenId: number | null;\n}\n\n/**\n * Mints a new RWA token.\n * @param payload The data required for token creation.\n * @returns A promise that resolves with the transaction information.\n */\nexport async function mintRwaToken(payload: MintRwaTokenPayload): Promise<MintRwaTokenResponse> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/mint`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(payload),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      console.error('Error minting token:', data.error || response.statusText);\n      throw new Error(`API Error: ${data.error || 'An unknown error occurred'}`);\n    }\n\n    return data;\n  } catch (error) {\n    console.error(\"Could not connect to the RWA API for minting:\", error);\n    throw error;\n  }\n}\n\n/**\n * Fetches data for a specific RWA by its ID.\n * @param tokenId The token ID.\n * @returns A promise that resolves with the token data.\n */\nexport async function getRwaById(tokenId: string): Promise<RwaToken> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/rwa/${tokenId}`);\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || `Failed to fetch RWA ${tokenId}`);\n        }\n        return response.json();\n    } catch (error) {\n        console.error(`Error fetching RWA with ID ${tokenId}:`, error);\n        throw error;\n    }\n}\n\n/**\n * Adds users to a token's whitelist.\n * @param tokenId The token ID.\n * @param users An array of addresses to add.\n */\nexport async function addToWhitelist(tokenId: string, users: string[]): Promise<void> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/whitelist/add`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ tokenId, users }),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || 'Failed to add to whitelist');\n        }\n    } catch (error) {\n        console.error('Error adding to whitelist:', error);\n        throw error;\n    }\n}\n\n/**\n * Deposits revenue for a specific token.\n * @param tokenId The token ID.\n * @param amount The amount in CHZ to deposit.\n */\nexport async function depositRevenue(tokenId: string, amount: string): Promise<void> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/revenue/deposit/${tokenId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ amount }),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || 'Failed to deposit revenue');\n        }\n    } catch (error) {\n        console.error('Error depositing revenue:', error);\n        throw error;\n    }\n}\n\nexport interface ContractInfo {\n    address: string;\n    owner: string;\n    network: string;\n    chainId: number;\n}\n\n/**\n * Fetches basic information about the contract.\n * @returns A promise that resolves with the contract information.\n */\nexport async function getContractInfo(): Promise<ContractInfo> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/contract/info`);\n        if (!response.ok) {\n            throw new Error('Failed to fetch contract info');\n        }\n        return response.json();\n    } catch (error) {\n        console.error('Error fetching contract info:', error);\n        throw error;\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,4TAAC,wXAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/whitelist-manager.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { toast } from 'sonner'\n// This function needs to be created in lib/api\nimport { addToWhitelist } from '@/lib/api' \n\ninterface WhitelistManagerProps {\n  tokenId: string\n}\n\nexport function WhitelistManager({ tokenId }: WhitelistManagerProps) {\n  const [addresses, setAddresses] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleAdd = async () => {\n    if (!addresses) {\n      toast.error('Please enter at least one address.')\n      return\n    }\n    setIsLoading(true)\n    try {\n        // Split by comma, newline, or space and filter out empty strings\n      const users = addresses.split(/[\\s,]+/).filter(addr => addr.startsWith('0x') && addr.length === 42)\n      if (users.length === 0) {\n          toast.error(\"No valid addresses found.\")\n          return\n      }\n\n      await addToWhitelist(tokenId, users)\n      toast.success(`${users.length} address(es) added to the whitelist.`)\n      setAddresses('')\n    } catch (err) {\n      toast.error(\"Error while adding to whitelist\", {\n        description: err instanceof Error ? err.message : 'Unknown error',\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div>\n        <Label htmlFor=\"whitelist-addresses\">Addresses to add</Label>\n        <p className=\"text-xs text-neutral-400 mb-2\">Separate addresses with a comma, space, or new line.</p>\n        <textarea\n          id=\"whitelist-addresses\"\n          value={addresses}\n          onChange={(e) => setAddresses(e.target.value)}\n          placeholder=\"0x..., 0x...\"\n          className=\"w-full bg-neutral-800 border-neutral-700 rounded-md p-2 text-sm\"\n          rows={3}\n        />\n      </div>\n      <Button onClick={handleAdd} disabled={isLoading} className=\"w-full\">\n        {isLoading ? 'Adding...' : 'Add to Whitelist'}\n      </Button>\n    </div>\n  )\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AACA,+CAA+C;AAC/C;;;AARA;;;;;;AAcO,SAAS,iBAAiB,EAAE,OAAO,EAAyB;;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY;QAChB,IAAI,CAAC,WAAW;YACd,2QAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,aAAa;QACb,IAAI;YACA,iEAAiE;YACnE,MAAM,QAAQ,UAAU,KAAK,CAAC,UAAU,MAAM,CAAC,CAAA,OAAQ,KAAK,UAAU,CAAC,SAAS,KAAK,MAAM,KAAK;YAChG,IAAI,MAAM,MAAM,KAAK,GAAG;gBACpB,2QAAA,CAAA,QAAK,CAAC,KAAK,CAAC;gBACZ;YACJ;YAEA,MAAM,CAAA,GAAA,6GAAA,CAAA,iBAAc,AAAD,EAAE,SAAS;YAC9B,2QAAA,CAAA,QAAK,CAAC,OAAO,CAAC,GAAG,MAAM,MAAM,CAAC,oCAAoC,CAAC;YACnE,aAAa;QACf,EAAE,OAAO,KAAK;YACZ,2QAAA,CAAA,QAAK,CAAC,KAAK,CAAC,mCAAmC;gBAC7C,aAAa,eAAe,QAAQ,IAAI,OAAO,GAAG;YACpD;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;;kCACC,4TAAC,6HAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAsB;;;;;;kCACrC,4TAAC;wBAAE,WAAU;kCAAgC;;;;;;kCAC7C,4TAAC;wBACC,IAAG;wBACH,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC5C,aAAY;wBACZ,WAAU;wBACV,MAAM;;;;;;;;;;;;0BAGV,4TAAC,8HAAA,CAAA,SAAM;gBAAC,SAAS;gBAAW,UAAU;gBAAW,WAAU;0BACxD,YAAY,cAAc;;;;;;;;;;;;AAInC;GAjDgB;KAAA","debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/revenue-manager.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { toast } from 'sonner'\n// This function needs to be created in lib/api\nimport { depositRevenue } from '@/lib/api' \n\ninterface RevenueManagerProps {\n  tokenId: string\n}\n\nexport function RevenueManager({ tokenId }: RevenueManagerProps) {\n  const [amount, setAmount] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleDeposit = async () => {\n    if (!amount || parseFloat(amount) <= 0) {\n      toast.error('Please enter a valid amount.')\n      return\n    }\n    setIsLoading(true)\n    try {\n      await depositRevenue(tokenId, amount)\n      toast.success(`${amount} CHZ deposited successfully.`)\n      setAmount('')\n    } catch (err) {\n      toast.error(\"Error during deposit\", {\n        description: err instanceof Error ? err.message : 'Unknown error',\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div>\n        <Label htmlFor=\"deposit-amount\">Amount to deposit (in CHZ)</Label>\n        <Input\n          id=\"deposit-amount\"\n          type=\"number\"\n          value={amount}\n          onChange={(e) => setAmount(e.target.value)}\n          placeholder=\"e.g.: 1000\"\n          className=\"mt-1\"\n        />\n      </div>\n      <Button onClick={handleDeposit} disabled={isLoading} className=\"w-full\">\n        {isLoading ? 'Depositing...' : 'Deposit Revenue'}\n      </Button>\n    </div>\n  )\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;;;AARA;;;;;;;AAcO,SAAS,eAAe,EAAE,OAAO,EAAuB;;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,gBAAgB;QACpB,IAAI,CAAC,UAAU,WAAW,WAAW,GAAG;YACtC,2QAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,aAAa;QACb,IAAI;YACF,MAAM,CAAA,GAAA,6GAAA,CAAA,iBAAc,AAAD,EAAE,SAAS;YAC9B,2QAAA,CAAA,QAAK,CAAC,OAAO,CAAC,GAAG,OAAO,4BAA4B,CAAC;YACrD,UAAU;QACZ,EAAE,OAAO,KAAK;YACZ,2QAAA,CAAA,QAAK,CAAC,KAAK,CAAC,wBAAwB;gBAClC,aAAa,eAAe,QAAQ,IAAI,OAAO,GAAG;YACpD;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;;kCACC,4TAAC,6HAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAiB;;;;;;kCAChC,4TAAC,6HAAA,CAAA,QAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;;;;;;;0BAGd,4TAAC,8HAAA,CAAA,SAAM;gBAAC,SAAS;gBAAe,UAAU;gBAAW,WAAU;0BAC5D,YAAY,kBAAkB;;;;;;;;;;;;AAIvC;GAzCgB;KAAA","debugId":null}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/app/rwa/%5BtokenId%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'next/navigation'\nimport { useWallet } from '@/contexts/wallet-context'\nimport { RwaToken } from '@/lib/api' // Assuming getRwaById will be created\nimport { getRwaById } from '@/lib/api' // This function needs to be created\nimport { getContractInfo } from '@/lib/api' // This function needs to be created\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { WhitelistManager } from '@/components/whitelist-manager'\nimport { RevenueManager } from '@/components/revenue-manager'\n\nexport default function RwaDetailPage() {\n  const params = useParams()\n  const { address, isConnected } = useWallet()\n  const tokenId = params.tokenId as string\n\n  const [rwa, setRwa] = useState<RwaToken | null>(null)\n  const [contractOwner, setContractOwner] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  \n  const isOwner = isConnected && address && contractOwner && address.toLowerCase() === contractOwner.toLowerCase()\n\n  useEffect(() => {\n    if (tokenId) {\n      const fetchRwa = async () => {\n        setIsLoading(true)\n        try {\n          const rwaData = await getRwaById(tokenId)\n          setRwa(rwaData)\n          \n          const info = await getContractInfo();\n          setContractOwner(info.owner);\n\n        } catch (err) {\n          setError(err instanceof Error ? err.message : 'Failed to fetch RWA details')\n        } finally {\n          setIsLoading(false)\n        }\n      }\n      fetchRwa()\n    }\n  }, [tokenId])\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <Skeleton className=\"h-12 w-1/4 mb-4\" />\n        <Skeleton className=\"h-8 w-1/2 mb-8\" />\n        <div className=\"grid md:grid-cols-3 gap-8\">\n            <div className=\"md:col-span-2\">\n                <Skeleton className=\"w-full h-96\" />\n            </div>\n            <div>\n                <Card><CardHeader><Skeleton className=\"h-8 w-full mb-4\" /></CardHeader><CardContent><Skeleton className=\"h-40 w-full\" /></CardContent></Card>\n            </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return <div className=\"container mx-auto px-4 py-8 text-red-500\">{error}</div>\n  }\n\n  if (!rwa) {\n    return <div className=\"container mx-auto px-4 py-8\">RWA not found.</div>\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white\">{rwa.rwaType} #{rwa.tokenId}</h1>\n        {/* We would fetch and display the metadata name here */}\n        <p className=\"text-lg text-neutral-400\">Digital Asset Details</p>\n      </div>\n\n      <div className=\"grid md:grid-cols-3 gap-8\">\n        <div className=\"md:col-span-2 space-y-8\">\n            {/* Placeholder for Image */}\n            <Card className=\"bg-neutral-900 border-neutral-800\">\n                <CardContent className=\"p-4\">\n                     <div className=\"aspect-square w-full bg-neutral-800 flex items-center justify-center rounded-md\">\n                        <span className=\"text-neutral-500\">Asset Image</span>\n                    </div>\n                </CardContent>\n            </Card>\n\n            {isOwner && rwa.complianceRequired && (\n                <Card className=\"bg-neutral-900 border-neutral-800\">\n                    <CardHeader><CardTitle>Admin: Whitelist Management</CardTitle></CardHeader>\n                    <CardContent>\n                        <WhitelistManager tokenId={tokenId} />\n                    </CardContent>\n                </Card>\n            )}\n        </div>\n\n        <div className=\"space-y-6\">\n            <Card className=\"bg-neutral-900 border-neutral-800\">\n                <CardHeader><CardTitle>Key Information</CardTitle></CardHeader>\n                <CardContent className=\"space-y-4\">\n                    <div className=\"flex justify-between\"><span>Type:</span> <span>{rwa.rwaType}</span></div>\n                    <div className=\"flex justify-between\"><span>Share:</span> <span>{rwa.percent}%</span></div>\n                    <div className=\"flex justify-between\"><span>My Balance:</span> <span>{rwa.balance}</span></div>\n                    <div className=\"flex justify-between items-center\">\n                        <span>Compliance:</span> \n                        <Badge variant={rwa.complianceRequired ? 'destructive' : 'secondary'}>\n                            {rwa.complianceRequired ? 'Whitelist Active' : 'Open'}\n                        </Badge>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                        <span>Status:</span>\n                        {parseInt(rwa.lockupEndDate) * 1000 > Date.now() ? (\n                             <Badge variant=\"destructive\">Locked</Badge>\n                        ) : (\n                            <Badge variant=\"secondary\">Tradable</Badge>\n                        )}\n                    </div>\n                     {parseInt(rwa.lockupEndDate) > 0 && \n                        <div className=\"text-center pt-2 text-xs text-neutral-500\">\n                           Lock-up ends on {new Date(parseInt(rwa.lockupEndDate) * 1000).toLocaleDateString()}\n                        </div>\n                     }\n                </CardContent>\n            </Card>\n\n             {isOwner && (\n                <Card className=\"bg-neutral-900 border-neutral-800\">\n                    <CardHeader><CardTitle>Admin: Deposit Revenue</CardTitle></CardHeader>\n                    <CardContent>\n                        <RevenueManager tokenId={tokenId} />\n                    </CardContent>\n                </Card>\n             )}\n        </div>\n      </div>\n    </div>\n  )\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA,+LAAuC,oCAAoC;AAE3E;AACA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;AAce,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,oQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,YAAS,AAAD;IACzC,MAAM,UAAU,OAAO,OAAO;IAE9B,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAmB;IAChD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAiB;IAClE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,UAAU,eAAe,WAAW,iBAAiB,QAAQ,WAAW,OAAO,cAAc,WAAW;IAE9G,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,SAAS;gBACX,MAAM;wDAAW;wBACf,aAAa;wBACb,IAAI;4BACF,MAAM,UAAU,MAAM,CAAA,GAAA,6GAAA,CAAA,aAAU,AAAD,EAAE;4BACjC,OAAO;4BAEP,MAAM,OAAO,MAAM,CAAA,GAAA,6GAAA,CAAA,kBAAe,AAAD;4BACjC,iBAAiB,KAAK,KAAK;wBAE7B,EAAE,OAAO,KAAK;4BACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;wBAChD,SAAU;4BACR,aAAa;wBACf;oBACF;;gBACA;YACF;QACF;kCAAG;QAAC;KAAQ;IAEZ,IAAI,WAAW;QACb,qBACE,4TAAC;YAAI,WAAU;;8BACb,4TAAC,gIAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,4TAAC,gIAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,4TAAC;oBAAI,WAAU;;sCACX,4TAAC;4BAAI,WAAU;sCACX,cAAA,4TAAC,gIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;sCAExB,4TAAC;sCACG,cAAA,4TAAC,4HAAA,CAAA,OAAI;;kDAAC,4TAAC,4HAAA,CAAA,aAAU;kDAAC,cAAA,4TAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;kDAAiC,4TAAC,4HAAA,CAAA,cAAW;kDAAC,cAAA,4TAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKtH;IAEA,IAAI,OAAO;QACT,qBAAO,4TAAC;YAAI,WAAU;sBAA4C;;;;;;IACpE;IAEA,IAAI,CAAC,KAAK;QACR,qBAAO,4TAAC;YAAI,WAAU;sBAA8B;;;;;;IACtD;IAEA,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAG,WAAU;;4BAAiC,IAAI,OAAO;4BAAC;4BAAG,IAAI,OAAO;;;;;;;kCAEzE,4TAAC;wBAAE,WAAU;kCAA2B;;;;;;;;;;;;0BAG1C,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAI,WAAU;;0CAEX,4TAAC,4HAAA,CAAA,OAAI;gCAAC,WAAU;0CACZ,cAAA,4TAAC,4HAAA,CAAA,cAAW;oCAAC,WAAU;8CAClB,cAAA,4TAAC;wCAAI,WAAU;kDACZ,cAAA,4TAAC;4CAAK,WAAU;sDAAmB;;;;;;;;;;;;;;;;;;;;;4BAK9C,WAAW,IAAI,kBAAkB,kBAC9B,4TAAC,4HAAA,CAAA,OAAI;gCAAC,WAAU;;kDACZ,4TAAC,4HAAA,CAAA,aAAU;kDAAC,cAAA,4TAAC,4HAAA,CAAA,YAAS;sDAAC;;;;;;;;;;;kDACvB,4TAAC,4HAAA,CAAA,cAAW;kDACR,cAAA,4TAAC,sIAAA,CAAA,mBAAgB;4CAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;;kCAM3C,4TAAC;wBAAI,WAAU;;0CACX,4TAAC,4HAAA,CAAA,OAAI;gCAAC,WAAU;;kDACZ,4TAAC,4HAAA,CAAA,aAAU;kDAAC,cAAA,4TAAC,4HAAA,CAAA,YAAS;sDAAC;;;;;;;;;;;kDACvB,4TAAC,4HAAA,CAAA,cAAW;wCAAC,WAAU;;0DACnB,4TAAC;gDAAI,WAAU;;kEAAuB,4TAAC;kEAAK;;;;;;oDAAY;kEAAC,4TAAC;kEAAM,IAAI,OAAO;;;;;;;;;;;;0DAC3E,4TAAC;gDAAI,WAAU;;kEAAuB,4TAAC;kEAAK;;;;;;oDAAa;kEAAC,4TAAC;;4DAAM,IAAI,OAAO;4DAAC;;;;;;;;;;;;;0DAC7E,4TAAC;gDAAI,WAAU;;kEAAuB,4TAAC;kEAAK;;;;;;oDAAkB;kEAAC,4TAAC;kEAAM,IAAI,OAAO;;;;;;;;;;;;0DACjF,4TAAC;gDAAI,WAAU;;kEACX,4TAAC;kEAAK;;;;;;kEACN,4TAAC,6HAAA,CAAA,QAAK;wDAAC,SAAS,IAAI,kBAAkB,GAAG,gBAAgB;kEACpD,IAAI,kBAAkB,GAAG,qBAAqB;;;;;;;;;;;;0DAGvD,4TAAC;gDAAI,WAAU;;kEACX,4TAAC;kEAAK;;;;;;oDACL,SAAS,IAAI,aAAa,IAAI,OAAO,KAAK,GAAG,mBACzC,4TAAC,6HAAA,CAAA,QAAK;wDAAC,SAAQ;kEAAc;;;;;6EAE9B,4TAAC,6HAAA,CAAA,QAAK;wDAAC,SAAQ;kEAAY;;;;;;;;;;;;4CAGjC,SAAS,IAAI,aAAa,IAAI,mBAC5B,4TAAC;gDAAI,WAAU;;oDAA4C;oDACvC,IAAI,KAAK,SAAS,IAAI,aAAa,IAAI,MAAM,kBAAkB;;;;;;;;;;;;;;;;;;;4BAM7F,yBACE,4TAAC,4HAAA,CAAA,OAAI;gCAAC,WAAU;;kDACZ,4TAAC,4HAAA,CAAA,aAAU;kDAAC,cAAA,4TAAC,4HAAA,CAAA,YAAS;sDAAC;;;;;;;;;;;kDACvB,4TAAC,4HAAA,CAAA,cAAW;kDACR,cAAA,4TAAC,oIAAA,CAAA,iBAAc;4CAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjD;GAhIwB;;QACP,oQAAA,CAAA,YAAS;QACS,iIAAA,CAAA,YAAS;;;KAFpB","debugId":null}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/node_modules/.pnpm/next%4015.3.5_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 984, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/node_modules/.pnpm/%40radix-ui%2Breact-label%402.1.7_%40types%2Breact-dom%4019.1.6_%40types%2Breact%4019.1.8__%40types%2Breact%401_f026c130782473ba8001b4f96e481e94/node_modules/%40radix-ui/react-label/src/label.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Label\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Label';\n\ntype LabelElement = React.ComponentRef<typeof Primitive.label>;\ntype PrimitiveLabelProps = React.ComponentPropsWithoutRef<typeof Primitive.label>;\ninterface LabelProps extends PrimitiveLabelProps {}\n\nconst Label = React.forwardRef<LabelElement, LabelProps>((props, forwardedRef) => {\n  return (\n    <Primitive.label\n      {...props}\n      ref={forwardedRef}\n      onMouseDown={(event) => {\n        // only prevent text selection if clicking inside the label itself\n        const target = event.target as HTMLElement;\n        if (target.closest('button, input, select, textarea')) return;\n\n        props.onMouseDown?.(event);\n        // prevent text selection when double clicking label\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }}\n    />\n  );\n});\n\nLabel.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Label;\n\nexport {\n  Label,\n  //\n  Root,\n};\nexport type { LabelProps };\n"],"names":[],"mappings":";;;;;AAAA,YAAY,WAAW;AACvB,SAAS,iBAAiB;AActB;;;;;AARJ,IAAM,OAAO;AAMb,IAAM,ySAAc,aAAA,EAAqC,CAAC,OAAO,iBAAiB;IAChF,OACE,aAAA,GAAA,CAAA,GAAA,qSAAA,CAAA,MAAA,4XAAC,YAAA,CAAU,KAAA,EAAV;QACE,GAAG,KAAA;QACJ,KAAK;QACL,aAAa,CAAC,UAAU;YAEtB,MAAM,SAAS,MAAM,MAAA;YACrB,IAAI,OAAO,OAAA,CAAQ,iCAAiC,EAAG,CAAA;YAEvD,MAAM,WAAA,GAAc,KAAK;YAEzB,IAAI,CAAC,MAAM,gBAAA,IAAoB,MAAM,MAAA,GAAS,EAAG,CAAA,MAAM,cAAA,CAAe;QACxE;IAAA;AAGN,CAAC;AAED,MAAM,WAAA,GAAc;AAIpB,IAAM,OAAO","ignoreList":[0],"debugId":null}}]
}