{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/lib/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\n\nexport interface RwaToken {\n  tokenId: number;\n  balance: string;\n  rwaType: string;\n  percent: string;\n  metadataURI: string;\n  price: string;\n  legalDocURI: string;\n  lockupEndDate: string;\n  complianceRequired: boolean;\n  // Soon, we will add the metadata itself\n  // metadata?: Record<string, any>; \n}\n\nexport interface UserTokensResponse {\n  address: string;\n  tokens: RwaToken[];\n}\n\n/**\n * Fetches RWA tokens for a given user address.\n * @param address The user's wallet address.\n * @returns A promise that resolves with the user's tokens.\n */\nexport async function getUserTokens(address: string): Promise<UserTokensResponse> {\n  if (!address) {\n    console.error(\"User address is required to fetch tokens.\");\n    return { address: '', tokens: [] };\n  }\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/user/${address}/tokens`);\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('Error fetching tokens:', errorData.error || response.statusText);\n      throw new Error(`API Error: ${errorData.error || response.statusText}`);\n    }\n\n    const data: UserTokensResponse = await response.json();\n    \n    // In the future, we might want to fetch metadata for each token here.\n    // For example, by looping over data.tokens and calling fetch(token.metadataURI)\n\n    return data;\n\n  } catch (error) {\n    console.error(\"Could not connect to the RWA API:\", error);\n    // Return an empty state in case of a network error or other issue\n    return { address: address, tokens: [] };\n  }\n}\n\nexport interface MintRwaTokenPayload {\n  to: string;\n  amount: number;\n  percent: number;\n  rwaType: string;\n  metadataURI: string;\n  price: string;\n  legalDocURI: string;\n  lockupEndDate: number;\n  complianceRequired: boolean;\n}\n\nexport interface MintRwaTokenResponse {\n  success: boolean;\n  transactionHash: string;\n  blockNumber: number;\n  gasUsed: string;\n  tokenId: number | null;\n}\n\n/**\n * Mints a new RWA token.\n * @param payload The data required for token creation.\n * @returns A promise that resolves with the transaction information.\n */\nexport async function mintRwaToken(payload: MintRwaTokenPayload): Promise<MintRwaTokenResponse> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/mint`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(payload),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      console.error('Error minting token:', data.error || response.statusText);\n      throw new Error(`API Error: ${data.error || 'An unknown error occurred'}`);\n    }\n\n    return data;\n  } catch (error) {\n    console.error(\"Could not connect to the RWA API for minting:\", error);\n    throw error;\n  }\n}\n\n/**\n * Fetches data for a specific RWA by its ID.\n * @param tokenId The token ID.\n * @returns A promise that resolves with the token data.\n */\nexport async function getRwaById(tokenId: string): Promise<RwaToken> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/rwa/${tokenId}`);\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || `Failed to fetch RWA ${tokenId}`);\n        }\n        return response.json();\n    } catch (error) {\n        console.error(`Error fetching RWA with ID ${tokenId}:`, error);\n        throw error;\n    }\n}\n\n/**\n * Adds users to a token's whitelist.\n * @param tokenId The token ID.\n * @param users An array of addresses to add.\n */\nexport async function addToWhitelist(tokenId: string, users: string[]): Promise<void> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/whitelist/add`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ tokenId, users }),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || 'Failed to add to whitelist');\n        }\n    } catch (error) {\n        console.error('Error adding to whitelist:', error);\n        throw error;\n    }\n}\n\n/**\n * Deposits revenue for a specific token.\n * @param tokenId The token ID.\n * @param amount The amount in CHZ to deposit.\n */\nexport async function depositRevenue(tokenId: string, amount: string): Promise<void> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/revenue/deposit/${tokenId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ amount }),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || 'Failed to deposit revenue');\n        }\n    } catch (error) {\n        console.error('Error depositing revenue:', error);\n        throw error;\n    }\n}\n\nexport interface ContractInfo {\n    address: string;\n    owner: string;\n    network: string;\n    chainId: number;\n}\n\n/**\n * Fetches basic information about the contract.\n * @returns A promise that resolves with the contract information.\n */\nexport async function getContractInfo(): Promise<ContractInfo> {\n    try {\n        const response = await fetch(`${API_BASE_URL}/contract/info`);\n        if (!response.ok) {\n            throw new Error('Failed to fetch contract info');\n        }\n        return response.json();\n    } catch (error) {\n        console.error('Error fetching contract info:', error);\n        throw error;\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/rwa-card.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport Link from 'next/link'\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\nimport { type RwaToken } from '@/lib/api'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Image as ImageIcon, PieChart, Wallet, Lock, ShieldCheck } from 'lucide-react'\n\ninterface Metadata {\n  name: string\n  description: string\n  image: string\n}\n\ninterface RwaCardProps {\n  token: RwaToken | null\n}\n\nexport function RwaCard({ token }: RwaCardProps) {\n  const [metadata, setMetadata] = useState<Metadata | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function fetchMetadata() {\n      if (!token || !token.metadataURI) {\n        setIsLoading(false)\n        return\n      }\n      setIsLoading(true);\n      try {\n        // Ajout d'un proxy pour contourner les problèmes de CORS en local si nécessaire.\n        // Pour la production, il faudra une solution plus robuste.\n        const proxyUrl = '/api/proxy?url='\n        const response = await fetch(proxyUrl + encodeURIComponent(token.metadataURI))\n        if (!response.ok) {\n          throw new Error('Failed to fetch metadata')\n        }\n        const data: Metadata = await response.json()\n        setMetadata(data)\n      } catch (error) {\n        console.error('Error fetching metadata for token', token.tokenId, error)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    fetchMetadata()\n  }, [token])\n\n  if (!token) {\n    return (\n        <Card className=\"bg-neutral-900 border-neutral-800\">\n            <CardHeader className=\"p-0\"><Skeleton className=\"w-full aspect-square\" /></CardHeader>\n            <CardContent className=\"p-4\"><Skeleton className=\"w-3/4 h-6 mb-2\" /><Skeleton className=\"w-1/2 h-4\" /></CardContent>\n            <CardFooter className=\"p-4 bg-black/20\"><Skeleton className=\"w-full h-5\" /></CardFooter>\n        </Card>\n    )\n  }\n\n  const displayName = metadata?.name || `${token.rwaType} #${token.tokenId}`\n\n  return (\n    <Link href={`/rwa/${token.tokenId}`} className=\"block\">\n        <Card className=\"bg-neutral-900 border-neutral-800 hover:border-chiliz-red transition-all duration-300 ease-in-out group overflow-hidden\">\n            <CardHeader className=\"p-0\">\n                <div className=\"aspect-square w-full overflow-hidden\">\n                {isLoading ? (\n                    <Skeleton className=\"w-full h-full\" />\n                ) : metadata?.image ? (\n            <img\n              src={metadata.image}\n              alt={displayName}\n              className=\"w-full h-full object-cover transition-transform duration-300 ease-in-out group-hover:scale-105\"\n            />\n          ) : (\n            <div className=\"w-full h-full bg-neutral-800 flex items-center justify-center\">\n              <ImageIcon className=\"w-12 h-12 text-neutral-600\" />\n            </div>\n          )}\n        </div>\n      </CardHeader>\n      <CardContent className=\"p-4\">\n        <CardTitle className=\"text-lg font-bold truncate group-hover:text-chiliz-red\">{displayName}</CardTitle>\n        <p className=\"text-sm text-neutral-400 mt-1 h-10 overflow-hidden\">\n            {isLoading ? <Skeleton className=\"w-3/4 h-4 mt-1\" /> : metadata?.description || 'No description available.'}\n        </p>\n      </CardContent>\n      <CardFooter className=\"p-4 bg-black/20 flex justify-between text-xs\">\n          <div className=\"flex items-center gap-2 text-neutral-300\">\n            <PieChart className=\"w-4 h-4 text-chiliz-red\" />\n            <span>{token.percent}%</span>\n          </div>\n          <div className=\"flex items-center gap-2 text-neutral-300\">\n            {parseInt(token.lockupEndDate) * 1000 > Date.now() && (\n                <Lock className=\"w-4 h-4 text-yellow-400\" />\n            )}\n            {token.complianceRequired && (\n                <ShieldCheck className=\"w-4 h-4 text-blue-400\" />\n            )}\n             <Wallet className=\"w-4 h-4 text-chiliz-red\" />\n             <span>x{token.balance}</span>\n          </div>\n      </CardFooter>\n        </Card>\n    </Link>\n  )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDownIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Accordion({\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Root>) {\n  return <AccordionPrimitive.Root data-slot=\"accordion\" {...props} />\n}\n\nfunction AccordionItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Item>) {\n  return (\n    <AccordionPrimitive.Item\n      data-slot=\"accordion-item\"\n      className={cn(\"border-b last:border-b-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AccordionTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {\n  return (\n    <AccordionPrimitive.Header className=\"flex\">\n      <AccordionPrimitive.Trigger\n        data-slot=\"accordion-trigger\"\n        className={cn(\n          \"focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <ChevronDownIcon className=\"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200\" />\n      </AccordionPrimitive.Trigger>\n    </AccordionPrimitive.Header>\n  )\n}\n\nfunction AccordionContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Content>) {\n  return (\n    <AccordionPrimitive.Content\n      data-slot=\"accordion-content\"\n      className=\"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm\"\n      {...props}\n    >\n      <div className={cn(\"pt-0 pb-4\", className)}>{children}</div>\n    </AccordionPrimitive.Content>\n  )\n}\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,UAAU,EACjB,GAAG,OACkD;IACrD,qBAAO,4TAAC,yXAAA,CAAA,OAAuB;QAAC,aAAU;QAAa,GAAG,KAAK;;;;;;AACjE;KAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,4TAAC,yXAAA,CAAA,OAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,QAAQ,EACR,GAAG,OACqD;IACxD,qBACE,4TAAC,yXAAA,CAAA,SAAyB;QAAC,WAAU;kBACnC,cAAA,4TAAC,yXAAA,CAAA,UAA0B;YACzB,aAAU;YACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8SACA;YAED,GAAG,KAAK;;gBAER;8BACD,4TAAC,+SAAA,CAAA,kBAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MApBS;AAsBT,SAAS,iBAAiB,EACxB,SAAS,EACT,QAAQ,EACR,GAAG,OACqD;IACxD,qBACE,4TAAC,yXAAA,CAAA,UAA0B;QACzB,aAAU;QACV,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,4TAAC;YAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;AAGnD;MAdS","debugId":null}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,4TAAC,wXAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,4TAAC,wXAAA,CAAA,OAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,wXAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,4TAAC,+RAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS","debugId":null}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/components/mint-rwa-dialog.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n    Accordion,\n    AccordionContent,\n    AccordionItem,\n    AccordionTrigger,\n} from \"@/components/ui/accordion\"\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { mintRwaToken } from '@/lib/api'\nimport { toast } from 'sonner'\nimport { MintRwaTokenPayload } from '@/lib/api'\n\ninterface MintRwaDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onMintSuccess: () => void\n  defaultAddress?: string\n}\n\nexport function MintRwaDialog({ open, onOpenChange, onMintSuccess, defaultAddress }: MintRwaDialogProps) {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  \n  // Les états du formulaire\n  const [rwaType, setRwaType] = useState('')\n  const [amount, setAmount] = useState('1')\n  const [percent, setPercent] = useState('100')\n  const [price, setPrice] = useState('0')\n  const [metadataURI, setMetadataURI] = useState('')\n  // --- Advanced Options ---\n  const [legalDocURI, setLegalDocURI] = useState('')\n  const [lockupEndDate, setLockupEndDate] = useState('')\n  const [complianceRequired, setComplianceRequired] = useState(false)\n\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!defaultAddress) {\n        toast.error(\"Wallet address is not available.\")\n        return\n    }\n\n    if (!rwaType || !amount || !percent || !metadataURI) {\n        toast.error('Please fill all the required fields.')\n        return\n    }\n\n    setIsLoading(true)\n    setError(null)\n    try {\n      const payload: MintRwaTokenPayload = { // Using the imported type\n        to: defaultAddress,\n        amount: parseInt(amount, 10),\n        percent: parseInt(percent, 10),\n        rwaType,\n        metadataURI,\n        price,\n        legalDocURI,\n        // Convert date to unix timestamp. If no date, set to 0.\n        lockupEndDate: lockupEndDate ? Math.floor(new Date(lockupEndDate).getTime() / 1000) : 0,\n        complianceRequired,\n      }\n      \n      const result = await mintRwaToken(payload)\n      \n      toast.success('RWA created successfully!', {\n        description: `Transaction: ${result.transactionHash.substring(0,10)}...`,\n        action: {\n          label: 'View',\n          onClick: () => window.open(`https://spicy-explorer.chiliz.com/tx/${result.transactionHash}`, '_blank'),\n        },\n      })\n\n      onMintSuccess()\n      onOpenChange(false) // Close the dialog\n\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred.'\n      setError(errorMessage)\n      toast.error('Error during creation', {\n        description: errorMessage,\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[425px] bg-neutral-900 border-neutral-800\">\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">Tokenize a new asset</DialogTitle>\n          <DialogDescription>\n            Fill in the information below to create a new digital asset (RWA).\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit}>\n            <div className=\"grid gap-4 py-4\">\n            <div className=\"grid grid-cols-4 items-center gap-4\">\n                <Label htmlFor=\"rwa-type\" className=\"text-right text-neutral-300\">\n                Type\n                </Label>\n                <Input\n                id=\"rwa-type\"\n                value={rwaType}\n                onChange={(e) => setRwaType(e.target.value)}\n                placeholder=\"e.g.: Music Right, Merch...\"\n                className=\"col-span-3\"\n                />\n            </div>\n            <div className=\"grid grid-cols-4 items-center gap-4\">\n                <Label htmlFor=\"amount\" className=\"text-right text-neutral-300\">\n                Quantity\n                </Label>\n                <Input\n                id=\"amount\"\n                type=\"number\"\n                value={amount}\n                onChange={(e) => setAmount(e.target.value)}\n                className=\"col-span-3\"\n                min=\"1\"\n                />\n            </div>\n            <div className=\"grid grid-cols-4 items-center gap-4\">\n                <Label htmlFor=\"percent\" className=\"text-right text-neutral-300\">\n                Percentage\n                </Label>\n                <Input\n                id=\"percent\"\n                type=\"number\"\n                value={percent}\n                onChange={(e) => setPercent(e.target.value)}\n                placeholder=\"e.g.: 10\"\n                className=\"col-span-3\"\n                min=\"0\"\n                max=\"100\"\n                />\n            </div>\n            <div className=\"grid grid-cols-4 items-center gap-4\">\n                <Label htmlFor=\"price\" className=\"text-right text-neutral-300\">\n                Price (CHZ)\n                </Label>\n                <Input\n                id=\"price\"\n                type=\"number\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n                placeholder=\"e.g.: 50\"\n                className=\"col-span-3\"\n                min=\"0\"\n                />\n            </div>\n            <div className=\"grid grid-cols-4 items-center gap-4\">\n                <Label htmlFor=\"metadata-uri\" className=\"text-right text-neutral-300\">\n                Metadata URI\n                </Label>\n                <Input\n                id=\"metadata-uri\"\n                value={metadataURI}\n                onChange={(e) => setMetadataURI(e.target.value)}\n                placeholder=\"ipfs://...\"\n                className=\"col-span-3\"\n                />\n            </div>\n            </div>\n\n            <Accordion type=\"single\" collapsible className=\"w-full\">\n                <AccordionItem value=\"advanced-options\">\n                    <AccordionTrigger>Advanced Options</AccordionTrigger>\n                    <AccordionContent>\n                    <div className=\"grid gap-4 py-4\">\n                        <div className=\"grid grid-cols-4 items-center gap-4\">\n                            <Label htmlFor=\"legal-doc-uri\" className=\"text-right text-neutral-300\">\n                            Legal Doc URI\n                            </Label>\n                            <Input\n                            id=\"legal-doc-uri\"\n                            value={legalDocURI}\n                            onChange={(e) => setLegalDocURI(e.target.value)}\n                            placeholder=\"https://.../legal.pdf\"\n                            className=\"col-span-3\"\n                            />\n                        </div>\n                        <div className=\"grid grid-cols-4 items-center gap-4\">\n                            <Label htmlFor=\"lockup-date\" className=\"text-right text-neutral-300\">\n                            Lock-up End\n                            </Label>\n                            <Input\n                            id=\"lockup-date\"\n                            type=\"date\"\n                            value={lockupEndDate}\n                            onChange={(e) => setLockupEndDate(e.target.value)}\n                            className=\"col-span-3\"\n                            />\n                        </div>\n                        <div className=\"grid grid-cols-4 items-center gap-4\">\n                             <Label htmlFor=\"compliance\" className=\"text-right text-neutral-300\">\n                                Compliance\n                            </Label>\n                            <div className=\"col-span-3 flex items-center space-x-2\">\n                                <Checkbox id=\"compliance\" checked={complianceRequired} onCheckedChange={(checked) => setComplianceRequired(!!checked)} />\n                                <label\n                                    htmlFor=\"compliance\"\n                                    className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n                                >\n                                    Enable whitelist for this RWA\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    </AccordionContent>\n                </AccordionItem>\n            </Accordion>\n\n            <DialogFooter className=\"pt-4\">\n            <Button type=\"submit\" disabled={isLoading} className=\"w-full sm:w-auto\">\n                {isLoading ? 'Creating...' : 'Create RWA'}\n            </Button>\n            </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1091, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/Documents/dev/ownible_chiliz_2025/front/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useWallet } from '@/contexts/wallet-context'\nimport { getContractInfo, type RwaToken } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Plus } from 'lucide-react'\nimport { RwaCard } from '@/components/rwa-card'\nimport { MintRwaDialog } from '@/components/mint-rwa-dialog'\n\nasync function getMarketplaceTokens(): Promise<RwaToken[]> {\n    const response = await fetch('http://localhost:3001/rwa/marketplace');\n    if (!response.ok) {\n        throw new Error('Failed to fetch marketplace tokens');\n    }\n    return response.json();\n}\n\nexport default function MarketplacePage() {\n  const { address, isConnected } = useWallet()\n  const [tokens, setTokens] = useState<RwaToken[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [isMintDialogOpen, setIsMintDialogOpen] = useState(false)\n  const [isOwner, setIsOwner] = useState(false)\n\n  const fetchTokens = async () => {\n    setIsLoading(true)\n    setError(null)\n    try {\n      const data = await getMarketplaceTokens()\n      setTokens(data)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred.')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchTokens()\n  }, [])\n\n  useEffect(() => {\n    async function checkOwner() {\n        if(isConnected && address) {\n            const info = await getContractInfo();\n            setIsOwner(address.toLowerCase() === info.owner.toLowerCase());\n        } else {\n            setIsOwner(false);\n        }\n    }\n    checkOwner();\n  }, [isConnected, address])\n\n  const handleMintSuccess = () => {\n    fetchTokens()\n  }\n\n  const renderContent = () => {\n    if (isLoading) {\n      return (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n          {[...Array(8)].map((_, i) => <RwaCard key={i} token={null} />)}\n        </div>\n      )\n    }\n    \n    if (error) {\n        return <div className=\"text-center py-20 text-red-400\">{error}</div>\n    }\n\n    if (tokens.length === 0) {\n      return (\n        <div className=\"text-center py-20 border-2 border-dashed border-neutral-700 rounded-lg\">\n          <h2 className=\"text-2xl font-semibold mb-4\">The Marketplace is Empty</h2>\n          <p className=\"text-neutral-400 mb-6\">\n            {isOwner ? \"Tokenize the first asset to get started.\" : \"Check back later for new assets.\"}\n          </p>\n          {isOwner && (\n            <Button onClick={() => setIsMintDialogOpen(true)}>\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Tokenize Asset\n            </Button>\n          )}\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n        {tokens.map((token) => (\n          <RwaCard key={token.tokenId} token={token} />\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n            <h1 className=\"text-3xl font-bold tracking-tight text-white\">Marketplace</h1>\n            <p className=\"mt-1 text-sm text-neutral-400\">\n                Browse and acquire new digital assets.\n            </p>\n        </div>\n        {isOwner && (\n            <Button onClick={() => setIsMintDialogOpen(true)}>\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Tokenize New Asset\n            </Button>\n        )}\n      </div>\n      \n      {renderContent()}\n\n      <MintRwaDialog \n        open={isMintDialogOpen}\n        onOpenChange={setIsMintDialogOpen}\n        onMintSuccess={handleMintSuccess}\n        defaultAddress={address}\n      />\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}